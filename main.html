<!--
- 로그인 , 회원가입, 아이디찾기, 비밀번호 찾기
- 이름 콤마 구분으로 다수 입력가능 ㅇ
- (+) 추가시 계속 추가 가능 ㅇ
- 내가 지금까지 줬던 내역 보유
- 최근에 줬던 사람 슬라이드로 보여주기
- 10만 포인트 달성시 복지 포인트 처리했다는 기록 있어야하고 (관리자 )

-->

<!doctype html>
<html lang="ko">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="img/logo/favicon.ico">

    <title>땡큐포인트</title>

    <link href="css/reset.css" rel="stylesheet">
    <link href="css/common.css" rel="stylesheet">
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.1/css/all.css"
        integrity="sha384-gfdkjb5BdAXd+lj+gudLWI+BXq4IuLW5IT+brZEZsLFm++aCMlF1V92rMkPaX4PP" crossorigin="anonymous">

    <script src="js/token-autocomplete.js"></script>
    <link href="css/token-autocomplete.css" rel="stylesheet" type="text/css" media="all">
</head>

<style>

</style>

<body>


    <div class="container">
        <nav class="navbar navbar-expand-lg navbar-light ">
            <a class="navbar-brand" href="#"><img src="img/logo/thku.png" alt="" height="40"></a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
                aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav mr-auto">
                    <li class="nav-item tab_active">
                        <a class="nav-link" href="main.html">땡큐포인트 <span class="sr-only">(current)</span></a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="point_list.html">나의 내역</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="tp_admin.html">관리자메뉴</a>
                    </li>
                    <!--
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
                        data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        Dropdown
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                        <a class="dropdown-item" href="#">Action</a>
                        <a class="dropdown-item" href="#">Another action</a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" href="#">Something else here</a>
                    </div>
                </li>
                <li class="nav-item">
                    <a class="nav-link disabled" href="#">Disabled</a>
                </li>
                -->
                </ul>
                <form class="form-inline my-2 my-lg-0">
                    <a class="text-muted pr-1 " href="#"><strong>이태웅</strong>님 </a>
                    <a class="btn btn-sm btn-outline-secondary" href="#">로그아웃</a>
                </form>
            </div>
        </nav>

        <div class="mb-5 p-sm-3 p-md-5 p-xs-5 text-white rounded bg-dark d-flex">
            <div class="col-6">
                <p class="my-3 small">이달 사용가능 포인트</p>
                <h1 class="display-5 display-6">10,000 <i class="fab fa-product-hunt f-15 f-875"></i></h1>
                <!--
                    <p class="lead mb-0"><a href="#" class="text-white font-weight-bold">Continue reading...</a></p>
                -->
            </div>
            <div class="col-6">
                <p class="my-3 small">총 누적 포인트</p>
                <h1 class="display-5 display-6 ">110,000 <i class="fab fa-product-hunt f-15 f-875"></i></h1>
            </div>
        </div>

        <div class="section_title text-center">최근 비플 땡큐포인트 내역</div>
        <section class="point_list_all mb-5">
            <div class="col-12">
                <div class="list-group">
                    <a href="#"
                        class="list-group-item list-group-item-action flex-column align-items-start mb-2 border-radius">
                        <div class="d-flex w-100 justify-content-between">
                            <h6 class="mb-1"><i class="fas fa-user"></i> 이태웅 주임 <i
                                    class="fas f-12 fa-long-arrow-alt-right fc-red"></i></i> <i class="fas fa-user"></i>
                                정용민 대리
                            </h6>
                            <small class="text-muted">2020-09-04 00:00:00</small>
                        </div>
                        <p class="mb-1 fc-red f-10 font-weight-bold">2,000P</p>
                        <small>개인적인 부탁 들어주셔서 감사합니다.</small>
                    </a>
                    <a href="#"
                        class="list-group-item list-group-item-action flex-column align-items-start mb-2 border-radius">
                        <div class="d-flex w-100 justify-content-between">
                            <h6 class="mb-1"><i class="fas fa-user"></i> 서인석 부장 <i
                                    class="fas f-12 fa-long-arrow-alt-right fc-red"></i></i> <i class="fas fa-user"></i>
                                정용민 대리
                            </h6>
                            <small class="text-muted">2020-09-04 00:00:00</small>
                        </div>
                        <p class="mb-1 fc-red  f-10 font-weight-bold">2,000P</p>
                        <small>개인적인 부탁 들어주셔서 감사합니다.</small>
                    </a>
                    <a href="#"
                        class="list-group-item list-group-item-action flex-column align-items-start mb-2 border-radius">
                        <div class="d-flex w-100 justify-content-between">
                            <h6 class="mb-1"><i class="fas fa-user"></i> 정용민 대리 <i
                                    class="fas f-12 fa-long-arrow-alt-right fc-red"></i></i> <i class="fas fa-user"></i>
                                이태웅 주임
                            </h6>
                            <small class="text-muted">2020-09-04 00:00:00</small>
                        </div>
                        <p class="mb-1 fc-red  f-10 font-weight-bold">2,000P</p>
                        <small>개인적인 부탁 들어주셔서 감사합니다.</small>
                    </a>
                    <a href="#"
                        class="list-group-item list-group-item-action flex-column align-items-start mb-2 border-radius">
                        <div class="d-flex w-100 justify-content-between">
                            <h6 class="mb-1"><i class="fas fa-user"></i> 김혁신 팀장 <i
                                    class="fas f-12 fa-long-arrow-alt-right fc-red"></i></i> <i class="fas fa-user"></i>
                                임유운 주임
                            </h6>
                            <small class="text-muted">2020-09-04 00:00:00</small>
                        </div>
                        <p class="mb-1 fc-red  f-10 font-weight-bold">2,000P</p>
                        <small>개인적인 부탁 들어주셔서 감사합니다.</small>
                    </a>

                </div>
            </div>
        </section>

        <div class="section_title text-center">포인트 보내기</div>
        <form>
            <div class="form-row">
                <div class="col-sm-10 pb-2">
                    <a href="#recipient-input" class="fc-black">
                        <label for="recipient-input">받는 사람</label>
                    </a>

                    <div class="form-group">
                        <div id="recipient" class="mention form-control border-secondary">
                            <option value="sis">
                                서인석 본부장 (기업부설연구소)
                            </option>
                            <option value="bugkingus">
                                이태웅 (기업부설연구소)
                            </option>
                            <option value="jym">
                                정용민 (기업부설연구소)
                            </option>
                            <option value="sai">
                                서아인 (기업부설연구소)
                            </option>
                        </div>
                        <div class="invalid-feedback">
                            이름을 입력해주세요.
                        </div>
                    </div>
                    <!-- <div class="searched_name_box">
                    <ul class="searched_name_ul">
                        <li data-id="1"><i class="fas fa-user"></i> 기업부설연구소 이태웅</li>
                        <li data-id="1"><i class="fas fa-user"></i> 영업1팀 이태웅</li>
                    </ul>
                </div> -->
                </div>
                <div class="col-sm-2 pb-2">
                    <label for="point">포인트</label>
                    <div class="form-group">
                        <input type=" number" id="point" name="point"
                            class="form-control border-secondary searchbar py-2" placeholder="0" min="0" max="3000"
                            step="500" value="" maxlength="4" oninput="maxLengthCheck(this); "
                            onKeyUp="inputDataCheck(this.id)">
                        <div class="invalid-feedback">
                            포인트를 입력해주세요.
                        </div>
                    </div>
                </div>
                <div class="col-12 mb-3">
                    <label for="content">사유</label>
                    <div class="form-group">
                        <input text=" text" id="content" name="content"
                            class="form-control border-secondary searchbar py-2" placeholder="고맙습니다" value=""
                            onKeyUp="inputDataCheck(this.id)">
                        <div class="invalid-feedback">
                            사유를 입력해주세요.
                        </div>
                    </div>
                </div>
            </div>
        </form>

        <!-- <div class="row mt-2">
            <div class="col-4">
                <div class="input-group searchbar">
                    <input type="text" class="form-control border-secondary py-2" placeholder="직원 이름 검색" value="">
                </div>
            </div>
            <div class="col-4">

                <div class="input-group searchbar">
                    <input type="number" class="form-control border-secondary py-2" placeholder="3000" value="">
                </div>
            </div>
            <div class="col-4">
                <div class="input-group searchbar">
                    <input text="" class="form-control border-secondary py-2" placeholder="고맙습니다" value="">
                </div>
            </div>

            <div class="col-12 text-center">
                <span><i class="fas fa-plus-circle f-2 pointer"></i></span>
            </div>
        </div> -->

        <div class="row text-center">
            <div class="col">
                <button class="btn btn-lg btn-dark btn-block" type="button" onClick="form_submit()">보내기</button>
            </div>
        </div>

        <footer class="mt-5 mb-5">

        </footer>
    </div>

</body>

<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
    integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous">
</script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
    integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous">
</script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"
    integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous">
</script>
<script>
    let tokenAutocomplete2 = new TokenAutocomplete({
        name: 'recipient',
        selector: '#recipient',
        noMatchesText: '해당 이름의 직원은 존재하지 않습니다.'
    });
    tokenAutocomplete2.debug(true);

    function maxLengthCheck(object) {
        if (object.value.length > object.maxLength) {
            object.value = object.value.slice(0, object.maxLength);
        }
    }

    let inputDataCheck = (id) => {

        if (id) {
            if (id == "recipient-input") {
                id = "recipient";
            }

            $("#" + id).removeClass("is-invalid");
        }
    }


    //포인트 보내기
    let form_submit = () => {
        recipient_select = $("#recipient-select").val();
        point = $.trim($("#point").val());
        content = $.trim($("#content").val());

        //현재 내 포인트가 몇인지 알아야하고, 보내는 포인트가 몇인지도 알아야합니다.

        if (recipient_select == "") {
            //alert("받는 사람을 입력해주세요.");
            $("#recipient").addClass("is-invalid");
            return;
        } else {
            //정말로 존재하는 직원인지 아닌지

        }

        if (point == "") {
            $("#point").addClass("is-invalid");
            return;
        }

        if (content == "") {
            $("#content").addClass("is-invalid");
            return;
        }

        console.log(recipient_select);
        console.log(recipient_select.length);
    }
</script>

</html>